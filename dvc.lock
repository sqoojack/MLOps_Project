schema: '2.0'
stages:
  preprocess:
    cmd: python src/features.py
    deps:
    - path: data/raw/meta_Beauty.json.gz
      hash: md5
      md5: f018e35b6c0d58f9737f0556af0cfb1e
      size: 99156148
      isexec: true
    - path: params.yaml
      hash: md5
      md5: 5a85a98b22322c4aa7fff4aaf34f73d4
      size: 817
      isexec: true
    - path: src/features.py
      hash: md5
      md5: 4c1bd67cf9aa8b8dbc9405add5a58769
      size: 3528
      isexec: true
    outs:
    - path: data/processed/test.csv
      hash: md5
      md5: 127f31ad9d4e75e11c75f4ffd85248f8
      size: 7294800
    - path: data/processed/train.csv
      hash: md5
      md5: be0d8919732b736e9eeabfe188c372e8
      size: 29179990
    - path: item_map.json
      hash: md5
      md5: 33f3ce8186ce17351f9aff4d6ac0de4c
      size: 2365325
    - path: items_metadata.json
      hash: md5
      md5: bcdc21288b4622e35e08a701dfd4cf88
      size: 27280901
  train:
    cmd: python src/train.py
    deps:
    - path: data/processed/test.csv
      hash: md5
      md5: 127f31ad9d4e75e11c75f4ffd85248f8
      size: 7294800
    - path: data/processed/train.csv
      hash: md5
      md5: be0d8919732b736e9eeabfe188c372e8
      size: 29179990
    - path: item_map.json
      hash: md5
      md5: 33f3ce8186ce17351f9aff4d6ac0de4c
      size: 2365325
    - path: params.yaml
      hash: md5
      md5: 5a85a98b22322c4aa7fff4aaf34f73d4
      size: 817
    - path: src/model.py
      hash: md5
      md5: e86e00c5c3e72f8b7a7c025a38a3c34e
      size: 7328
    - path: src/train.py
      hash: md5
      md5: 4e3493d45c4f37a28921aae066851030
      size: 6921
    outs:
    - path: model.pth
      hash: md5
      md5: 725c9fbe1e7225ff6e0b990237973493
      size: 470506841
  evaluate:
    cmd: python src/evaluate.py
    deps:
    - path: data/processed/test.csv
      hash: md5
      md5: 127f31ad9d4e75e11c75f4ffd85248f8
      size: 7294800
    - path: item_map.json
      hash: md5
      md5: 33f3ce8186ce17351f9aff4d6ac0de4c
      size: 2365325
    - path: model.pth
      hash: md5
      md5: 725c9fbe1e7225ff6e0b990237973493
      size: 470506841
    - path: params.yaml
      hash: md5
      md5: 5a85a98b22322c4aa7fff4aaf34f73d4
      size: 817
    - path: src/evaluate.py
      hash: md5
      md5: 3cfd3d68b7cff50063a071a9cd384c5e
      size: 5898
    - path: src/model.py
      hash: md5
      md5: e86e00c5c3e72f8b7a7c025a38a3c34e
      size: 7328
    outs:
    - path: metrics.json
      hash: md5
      md5: 02588014460d733df09259c42444e917
      size: 1272
  train_baseline:
    cmd: python src/train_baseline.py
    deps:
    - path: data/processed/train.csv
      hash: md5
      md5: 40d28b803786286ab966c8f66ae03f1d
      size: 100105332
    - path: src/train_baseline.py
      hash: md5
      md5: e37420d7176462f7d9ec931c74cc65b3
      size: 1476
    outs:
    - path: models/baseline_top10.json
      hash: md5
      md5: a06a220b3b2d5b3838c2c7bf1c3bec4a
      size: 75
  process:
    cmd: python src/features.py
    deps:
    - path: data/raw/events.csv
      hash: md5
      md5: fddaf7c1c6a9df23a726500a08ffdd7e
      size: 94237913
    - path: params.yaml
      hash: md5
      md5: b708d8def59fbcc1ae492efe8e15739e
      size: 545
    - path: src/features.py
      hash: md5
      md5: c69a10c06fb4dd22bcea8dcce775a2ff
      size: 2402
    outs:
    - path: data/processed/test.csv
      hash: md5
      md5: 09186ef91ee7b13bfb56eef86a0c8c5d
      size: 25030826
    - path: data/processed/train.csv
      hash: md5
      md5: 40d28b803786286ab966c8f66ae03f1d
      size: 100105332
