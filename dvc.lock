schema: '2.0'
stages:
  preprocess:
    cmd: python src/features.py
    deps:
    - path: data/raw/events.csv
      hash: md5
      md5: fddaf7c1c6a9df23a726500a08ffdd7e
      size: 94237913
    - path: params.yaml
      hash: md5
      md5: e99842cadb39eb3c85cb678c530eaa33
      size: 547
    - path: src/features.py
      hash: md5
      md5: c69a10c06fb4dd22bcea8dcce775a2ff
      size: 2402
    outs:
    - path: data/processed/test.csv
      hash: md5
      md5: 09186ef91ee7b13bfb56eef86a0c8c5d
      size: 25030826
    - path: data/processed/train.csv
      hash: md5
      md5: 40d28b803786286ab966c8f66ae03f1d
      size: 100105332
  train:
    cmd: python src/train.py
    deps:
    - path: data/processed/test.csv
      hash: md5
      md5: 09186ef91ee7b13bfb56eef86a0c8c5d
      size: 25030826
    - path: data/processed/train.csv
      hash: md5
      md5: 40d28b803786286ab966c8f66ae03f1d
      size: 100105332
    - path: params.yaml
      hash: md5
      md5: e99842cadb39eb3c85cb678c530eaa33
      size: 547
    - path: src/model.py
      hash: md5
      md5: c449432c245b10d5b90bb69dae632f45
      size: 2504
    - path: src/train.py
      hash: md5
      md5: 04ae99943af66f7d0a4d35ce119dcf5a
      size: 6973
    outs:
    - path: item_map.json
      hash: md5
      md5: b5831c275a7df13a48367567de7c147c
      size: 1513527
    - path: model.pth
      hash: md5
      md5: c05dc1606778deb40006cd13e14f3816
      size: 47074035
  evaluate:
    cmd: python src/evaluate.py
    deps:
    - path: data/processed/test.csv
      hash: md5
      md5: 09186ef91ee7b13bfb56eef86a0c8c5d
      size: 25030826
    - path: item_map.json
      hash: md5
      md5: b5831c275a7df13a48367567de7c147c
      size: 1513527
    - path: model.pth
      hash: md5
      md5: c05dc1606778deb40006cd13e14f3816
      size: 47074035
    - path: params.yaml
      hash: md5
      md5: e99842cadb39eb3c85cb678c530eaa33
      size: 547
    - path: src/evaluate.py
      hash: md5
      md5: 80a34d5fbd95cecaf37a5b7b5511c53d
      size: 3086
    - path: src/model.py
      hash: md5
      md5: c449432c245b10d5b90bb69dae632f45
      size: 2504
    outs:
    - path: metrics.json
      hash: md5
      md5: c7373c6d5753a5cd154107eaded9618e
      size: 78
  train_baseline:
    cmd: python src/train_baseline.py
    deps:
    - path: data/processed/train.csv
      hash: md5
      md5: 40d28b803786286ab966c8f66ae03f1d
      size: 100105332
    - path: src/train_baseline.py
      hash: md5
      md5: e37420d7176462f7d9ec931c74cc65b3
      size: 1476
    outs:
    - path: models/baseline_top10.json
      hash: md5
      md5: a06a220b3b2d5b3838c2c7bf1c3bec4a
      size: 75
  process:
    cmd: python src/features.py
    deps:
    - path: data/raw/events.csv
      hash: md5
      md5: fddaf7c1c6a9df23a726500a08ffdd7e
      size: 94237913
    - path: params.yaml
      hash: md5
      md5: b708d8def59fbcc1ae492efe8e15739e
      size: 545
    - path: src/features.py
      hash: md5
      md5: c69a10c06fb4dd22bcea8dcce775a2ff
      size: 2402
    outs:
    - path: data/processed/test.csv
      hash: md5
      md5: 09186ef91ee7b13bfb56eef86a0c8c5d
      size: 25030826
    - path: data/processed/train.csv
      hash: md5
      md5: 40d28b803786286ab966c8f66ae03f1d
      size: 100105332
